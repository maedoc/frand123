# this is supposed to run from a plain opensuse container

build:
  stage: compile
  tags:
    - linux
  script:
    - zypper --non-interactive in make
    - zypper --non-interactive in gcc6
    - zypper --non-interactive in gcc6-fortran
    - zypper --non-interactive in octave
    - zypper --non-interactive in octave-cli
    - zypper --non-interactive in octave-forge-statistics
    - make lib64/frand123.so lib64/frand123.a

  stage: test
  tags:
    - linux
#  variables:
  script:
    - zypper --non-interactive in make
    - zypper --non-interactive in gcc6
    - zypper --non-interactive in gcc6-fortran
    - zypper --non-interactive in octave
    - zypper --non-interactive in octave-cli
    - zypper --non-interactive in octave-forge-statistics
    - make tests
#  coverage: '/regex/'
#  artifacts:
#    when: on_success
#    name: ...
#    paths:
#       - "*. ..."
